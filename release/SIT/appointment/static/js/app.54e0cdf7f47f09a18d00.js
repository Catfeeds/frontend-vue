webpackJsonp([1],{"+ed2":function(e,t){},"0Y+T":function(e,t){},"3Uj3":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAsBAMAAACNsmVwAAAAElBMVEUAAADLy8vNzc3Ly8vMzMzOzs7zjAjwAAAABnRSTlMA/lfjUEnRZxQvAAAAOUlEQVQoz2MINmFAAENBBWSOEILjKIgkxSSILKU4nKREkKWE0TkIZWgGIIweqhKICEZEPWaiQEkuALvYDguNI7/8AAAAAElFTkSuQmCC"},BNAJ:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),a={name:"Appointment",data:function(){return{sliceData:["9:00 - 11:00","11:00 - 13:00","13:00 - 15:00","15:00 - 18:00"],username:"",selectDate:"请选择到店日期",selectIndex:0,pickerValue:"",normalImgSrc:n("hVFS"),selectImgSrc:n("j7d7"),startDate:new Date,siteId:"",siteName:"宝安车行",toastShow:!1,docmHeight:document.documentElement.clientHeight,showHeight:document.documentElement.clientHeight,hidshow:!0,showDatePicker:!1}},watch:{showHeight:function(){this.docmHeight>this.showHeight?this.hidshow=!1:this.hidshow=!0}},methods:{selectTimeAction:function(e){this.selectIndex=e},datePickerAction:function(){this.showDatePicker=!0},handleConfirm:function(){this.showDatePicker=!1,this.selectDate=this.formatDateToYYYYMMDD(this.pickerValue)},submitAction:function(){if(this.userToken&&0!=this.userToken.length||(window.location.href="IMMOTOR://showPrompt?code=0&message=没有获取到用户信息"),0!=this.username.length)if("请选择到店日期"!=this.selectDate){var e=this.pickerValue.getTime(),t=new Date;t.setHours(0),t.setMinutes(0),t.setSeconds(0);var n=(new Date).getTime();if(console.log(e-n),e-n>6048e5)window.location.href="IMMOTOR://showPrompt?code=0&message=只能预约一周内的日期";else{var i=this,a=i.sliceData[i.selectIndex],o=a.substr(0,a.indexOf("-")-1),s=a.substr(a.indexOf("-")+2,a.length);i.axios({method:"post",url:i.$yApi.siteAppointment,data:{siteId:this.siteId,date:e,name:this.username,startTime:o,endTime:s},headers:{"Content-Type":"application/json",Authorization:i.userToken}}).then(function(e){var t=e.data;1==t.resultCode?(i.siteName=t.data.siteInfo.name,i.toastShow=!0):window.location.href="IMMOTOR://showPrompt?code=0&message="+t.resultMsg}).catch(function(e){window.location.href="IMMOTOR://showPrompt?code=0&message=网络连接似乎已断开，请检查您的网络设置"})}}else window.location.href="IMMOTOR://showPrompt?code=0&message=请选择到店日期";else window.location.href="IMMOTOR://showPrompt?code=0&message=请输入姓名"},finishAction:function(){window.location.href="https://test.ehuandian.net/immotor/h5vue/appointmentSuccess/index.html"},datePickerFormatter:function(e,t){return"year"===e?t+"年":"month"===e?t+"月":"day"===e?t+"日":t},formatDateToYYYYMMDD:function(e){return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())},getEhdUserInfoFromBridge:function(){var e=this,t=navigator.userAgent;t.indexOf("Android")>-1||t.indexOf("Adr")>-1?e.$bridge.callAndriodHandler("getEhdUserInfo","",function(t){var n=JSON.parse(t);n&&n.token&&(e.userToken="bearer "+n.token)}):!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&e.$bridge.callhandler("getEhdUserInfo","",function(t){e.userToken="bearer "+t.token})},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(decodeURIComponent(n[2])):null}},mounted:function(){var e=new Date;if(e.setDate(e.getDate()+1),this.startDate=e,this.pickerValue=e,this.siteId=this.getUrlParam("siteId"),(t=this.getUrlParam("token"))&&t.length>0)this.userToken="bearer "+t;else{var t,n=navigator.userAgent;if(-1==n.indexOf("token="))this.getEhdUserInfoFromBridge();else t=(t=n.substr(n.indexOf("token=")+6,n.length)).substr(0,t.indexOf("&")),this.userToken="bearer "+t}var i=this;window.onresize=function(){i.showHeight=document.body.clientHeight}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"datePickerDiv",on:{click:e.datePickerAction}},[n("span",{staticClass:"leftItem titleFont"},[e._v("预计到店日期")]),e._v(" "),n("span",[n("div",{staticClass:"rightItem"},[n("p",{staticClass:"rightDate textFont"},[e._v(e._s(e.selectDate))]),e._v(" "),e._m(0)])])]),e._v(" "),n("div",{staticClass:"timeSelectDiv"},[n("p",{staticClass:"timeSelectTitle titleFont"},[e._v("预计到店时段")]),e._v(" "),n("div",{staticClass:"lineClass"}),e._v(" "),n("ul",{staticClass:"timeSelectUL"},e._l(e.sliceData,function(t,i){return n("li",[n("div",{staticClass:"leftTimeText timeTextFont"},[e._v(e._s(t))]),e._v(" "),n("div",{staticClass:"rightSelectIcon",on:{click:function(t){return e.selectTimeAction(i)}}},[n("img",{attrs:{src:[i==e.selectIndex?e.selectImgSrc:e.normalImgSrc]}})])])}),0)]),e._v(" "),n("div",{staticClass:"nameInputDiv"},[n("span",{staticClass:"leftItem titleFont"},[e._v("你的姓名")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"textFont nameIuputClass",attrs:{maxlength:"10",autocomplete:"off",placeholder:"请输入您的姓名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.hidshow,expression:"hidshow"}],staticClass:"submitBtn",on:{click:e.submitAction}},[e._v("完成")]),e._v(" "),n("van-popup",{attrs:{position:"bottom"},model:{value:e.showDatePicker,callback:function(t){e.showDatePicker=t},expression:"showDatePicker"}},[n("van-datetime-picker",{attrs:{type:"date","min-date":e.startDate,formatter:e.datePickerFormatter},on:{confirm:e.handleConfirm,cancel:function(t){e.showDatePicker=!1}},model:{value:e.pickerValue,callback:function(t){e.pickerValue=t},expression:"pickerValue"}})],1),e._v(" "),e.toastShow?n("div",{staticClass:"toastMask"},[n("div",{staticClass:"toastBK"},[e._m(1),e._v(" "),n("p",{staticClass:"toastSucessPrompt"},[e._v("预约成功")]),e._v(" "),n("p",{staticClass:"toastAppointmentInfo"},[n("span",{staticClass:"infoRemarkFont"},[e._v("你已成功预约“")]),e._v(" "),n("span",{staticClass:"infoNameFont"},[e._v(e._s(e.siteName))]),e._v(" "),n("span",{staticClass:"infoRemarkFont"},[e._v("”")])]),e._v(" "),n("div",{staticClass:"toastFinishBtn",on:{click:e.finishAction}},[e._v("完成")])])]):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"arrowIcon"},[t("img",{attrs:{src:n("3Uj3")}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"toastSuccessIcon"},[t("img",{attrs:{src:n("mzrL")}})])}]};var s={name:"App",components:{Appointment:n("VU/8")(a,o,!1,function(e){n("BNAJ")},"data-v-164d6b3d",null).exports}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Appointment")],1)},staticRenderFns:[]};var c=n("VU/8")(s,r,!1,function(e){n("Zd4f")},null,null).exports,l={};function A(e){if(!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0)}}function g(e){var t=navigator.userAgent;(t.indexOf("Android")>-1||t.indexOf("Adr")>-1)&&(window.WebViewJavascriptBridge?e(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){e(WebViewJavascriptBridge)},!1))}A(function(e){if(!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)){var t=new Array("getEhdUserInfo");for(var n in t){var i=t[n];l[i]=function(t){return function(n,i){"function"==typeof n?e.callHandler(t,null,n):null==i?e.callHandler(t,n):e.callHandler(t,n,i)}}(i)}}}),g(function(e){var t=navigator.userAgent;(t.indexOf("Android")>-1||t.indexOf("Adr")>-1)&&(e.init(function(e,t){t&&t(e)}),e.registerHandler("getEhdUserInfo",function(e,t){t&&t(responseData)}))});var m={callhandler:function(e,t,n){A(function(i){i.callHandler(e,t,n)})},registerhandler:function(e,t){A(function(n){n.registerHandler(e,function(e,n){t(e,n)})})},callAndriodHandler:function(e,t,n){g(function(i){i.callHandler(e,t,n)})}},d=(n("j1ja"),n("hKoQ")),u=n.n(d),h=n("mtWM"),p=n.n(h),f=n("Rf8U"),v=n.n(f),D={siteAppointment:"https://test.ehuandian.net/server/promotion/app/site/reservation"},w=(n("sVYa"),n("Fd2+"));n("D0HL"),n("tLo2");function M(){var e=document.documentElement.clientWidth||document.body.clientWidth;document.getElementsByTagName("html")[0].style.fontSize=e/10+"px"}n("hKoQ").polyfill(),u.a.polyfill(),i.a.component(w.a.name,w.a),i.a.component(w.b.name,w.b),i.a.config.productionTip=!1,i.a.prototype.$bridge=m,i.a.prototype.$yApi=D,i.a.use(v.a,p.a),window.onresize=M,M(),new i.a({el:"#app",components:{App:c},template:"<App/>"})},XqYu:function(e,t){},Zd4f:function(e,t){},hVFS:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAMAAAAPzWOAAAAAb1BMVEUAAACpqamqqqqmpqampqampqampqampqampqampqatra2urq6mpqampqampqalpaWnp6enp6enp6eqqqqoqKj///+lpaX9/f3e3t7Q0NCysrL5+fn29vb09PTs7Ozr6+vm5ubHx8fExMS7u7u3t7ez3FrpAAAAFXRSTlMA/gP57tvMx35KD/7fuqOOY1o3JyMoXRiMAAABnklEQVRYw+zUWY7DIBBF0SYGPE9JeAWep/2vsRUpsuJOHBu++y7gqICyf/6zKgqDzE+45/HEz4IwshfugfSwyZPB3Ua4lD4ANhvdtzVR3fbazAyAX17OEoUA2DiQ2kTDyABRnGKuEqg0qQ+RrgB5PR4jfxBqtweTHwwTpWCG1JfIMKRfX+omEHfqoC6GuO0bIcfSqMOaBTzcNTxMpE5EE7wd5cZh1MkM+McTRQKTOt0EEX142xQLnUdoQfr+0jniRlnUxMjf9hSsU1Z1DNc/h5EwyjIDuT1QgYpsEapQbAYR0Mo6DfE6SolKOVShfEF8aBdEw3/5F4KRC0IM9xUJMCqnRgQrIjG4IQPk+tV4jNwQYl70RELMyrEZ4XolxhUx66Vk0K6IRrZuSe+K9OumJGhdkRbJE+GoXZEa/In8NmMHRQCAMBADH3ho/TvFA5sHCOgMUHoJZ/a1yM4Ji/h2/GDDK/Zm87bvHqCPAh9K6Xj0Qe2R4eFVx6gHuqOFQ47jVg9+jqAOw47lLgiuKi5Nrm8uko3Suly75vuHw//rAtc2+Cny1hsMAAAAAElFTkSuQmCC"},j7d7:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAMAAAAPzWOAAAAAwFBMVEUAAAD4gDv4gDr/gkX5gDr5gTv6gj3/hUf5gDv5gDv5gDr5gDr5gDv5gDr4gDr5gDv5gTv5gDv/hUP5gDv5gDr5gDr5gDv5gDv4gDv4gDv5gDr5gDr5gTr6gTv5gTv6gjv/gkH/iET5gDv5gDr5gDv4gDr5gDz6gTr6gDz5gD35gz74gDz4fzr////938/4hEL++/n5o3H7wqD7uZP+9vH5j1L7vpv6qXr5mWL+7OP94dH93cz80rv8yKr6sYj4gj6RGQsbAAAALHRSTlMA5+MOcFQvCon89uvayb+AdkkV+PLTz8zEuKOeel1bNxsHhcWsmXxpZlApJrmcRU8AAAHESURBVFjD1djXVsJAEAZgE0LoEUIvFlBR9I8lAcX+/m+lZ01ccUmYYbjhv+Z8Z3fZMpODfUiuUR/2qnarZVd7w3ojxxeuJ7USVlLqTlyOML7sYm06ToFIFOoWUlMZkaaVt5EZ63gj4fexMd5ptuHaIMQ6yZxKGaQ0M6Z0CHKKacYAjJxnjEM4ljyYOTINt8xFmsZ/5Ntgx/q/X/ogZxFFC6h4Wy/IwzwI5os1y1Kw6cZ98J23eEK5P4jDNIIX/GSqjbHFNILH5GbQ98sV17j9RBznF6lxjTskaSfGDd/QcfWh4RrmEToTGOjE70tJYAC+QhoiAzOFOCIDI4VciAwMFOKJDNQU0kaSp2jJNlBViI04r+pQMA1YCqkk41A/DZkGyitIFGgl0zARPZ1lECssA9bqwoZaIRp6YT0YCsNATW82Q6EaGOhtbyhUAyN9AA2FamCmrwJTIRrw9aVkKkSjo6/HNQrNQDHlog4ZBty0JyOkG+30xyukGnAyntGQaFQKWQ/6x/P8fbOBqVFa8GPlGEUOsfbrb2N4Oy/85CWovBiWl+XyBkHeqsibpt21b/JGUt7SyptreZsv/eBQdHfw6WMP8gWmuSNXvLIv7wAAAABJRU5ErkJggg=="},mzrL:function(e,t){e.exports="data:image/png;base64,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"}},["NHnr"]);
//# sourceMappingURL=app.54e0cdf7f47f09a18d00.js.map