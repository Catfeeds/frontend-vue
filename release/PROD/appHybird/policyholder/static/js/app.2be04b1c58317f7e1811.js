webpackJsonp([1],{"6U7Q":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("7+uW"),i={name:"policyholder",data:function(){return{headerImgHeight:110*screen.width/375+"px",inputWidth:screen.width-130+"px",policy_holderData:null,contentChanged:!1,btnClass:"submitButton disableColor",userToken:""}},methods:{isPhoneNumber:function(e){return/^1[0-9]{10}$/.test(e)},isIDCardNumber:function(e){return/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(e)},isEmail:function(e){return/^([a-zA-Z0-9._-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/.test(e)},isEmptyStr:function(e){return!(e&&e.length>0)},inputTextChanged:function(){this.contentChanged||(this.contentChanged=!0,this.btnClass="submitButton normalColor")},fetchPolicyHolderData:function(){var e=this;e.axios({method:"get",url:e.$yApi.getInsurancePolicyInfo,headers:{Authorization:e.userToken}}).then(function(t){var a=t.data;if(600===a.code)e.policy_holderData=a.result;else{var o=a.msg;window.location.href="IMMOTOR://showPrompt?code=0&message="+o}}).catch(function(e){window.location.href="IMMOTOR://showPrompt?code=0&message=网络连接似乎已断开，请检查您的网络设置"})},savePolicyHolderData:function(){var e=this;e.contentChanged&&(e.isEmptyStr(e.policy_holderData.name)?window.location.href="IMMOTOR://showPrompt?code=0&message=请输入姓名":e.isIDCardNumber(e.policy_holderData.idcard)?e.isPhoneNumber(e.policy_holderData.phone)?e.isEmptyStr(e.policy_holderData.prechar2)?window.location.href="IMMOTOR://showPrompt?code=0&message=请输入你绑定的车辆SN码":e.isEmptyStr(e.policy_holderData.makeFactory)?window.location.href="IMMOTOR://showPrompt?code=0&message=请输入电机号":e.isEmptyStr(e.policy_holderData.fuelName)||e.policy_holderData.fuelName.length>20?window.location.href="IMMOTOR://showPrompt?code=0&message=请输入正确的车架号":e.isEmptyStr(e.policy_holderData.address)?window.location.href="IMMOTOR://showPrompt?code=0&message=请输入地址":e.isEmail(e.policy_holderData.email)?e.axios({method:"post",url:e.$yApi.addInsurancePolicyInfo,data:{name:e.policy_holderData.name,idcard:e.policy_holderData.idcard,email:e.policy_holderData.email,address:e.policy_holderData.address,phone:e.policy_holderData.phone,prechar2:e.policy_holderData.prechar2,makeFactory:e.policy_holderData.makeFactory,fuelName:e.policy_holderData.fuelName},headers:{"Content-Type":"application/json",Authorization:e.userToken}}).then(function(t){var a=t.data;600===a.code?(window.location.href="IMMOTOR://showPrompt?code=1&message=修改投保人信息成功",e.btnClass="submitButton disableColor",e.contentChanged=!1):window.location.href="IMMOTOR://showPrompt?code=0&message="+a.msg}).catch(function(e){console.log("请求失败："+e.status+","+e.statusText),window.location.href="IMMOTOR://showPrompt?code=0&message=网络连接似乎已断开，请检查您的网络设置"}):window.location.href="IMMOTOR://showPrompt?code=0&message=请输入正确的邮箱":window.location.href="IMMOTOR://showPrompt?code=0&message=请输入正确的手机号":window.location.href="IMMOTOR://showPrompt?code=0&message=请输入正确的身份证号")}},mounted:function(){var e=this,t=navigator.userAgent;t.indexOf("Android")>-1||t.indexOf("Adr")>-1?e.$bridge.callAndriodHandler("getEhdUserInfo","",function(t){var a=JSON.parse(t);a&&a.token&&(e.userToken="bearer "+a.token,e.fetchPolicyHolderData())}):!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&e.$bridge.callhandler("getEhdUserInfo","",function(t){e.userToken="bearer "+t.token,e.fetchPolicyHolderData()})}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mainBK"},[e.policy_holderData?a("div",{staticClass:"policy-holderDiv"},[a("ul",{staticClass:"holderUL"},[a("li",[a("div",{staticClass:"holderULlidiv"},[a("em",{staticClass:"inputTitleClass textFontClass"},[e._v("姓名")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.policy_holderData.name,expression:"policy_holderData.name"}],staticClass:"inputTextClass textFontClass",style:{width:e.inputWidth},attrs:{type:"text",maxlength:"20",autocomplete:"off"},domProps:{value:e.policy_holderData.name},on:{keyup:function(t){return e.inputTextChanged()},input:function(t){t.target.composing||e.$set(e.policy_holderData,"name",t.target.value)}}}),e._v(" "),a("div",{staticClass:"holderLineClass"})])]),e._v(" "),a("li",[a("div",{staticClass:"holderULlidiv"},[a("em",{staticClass:"inputTitleClass textFontClass"},[e._v("身份证号码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.policy_holderData.idcard,expression:"policy_holderData.idcard"}],staticClass:"inputTextClass textFontClass",style:{width:e.inputWidth},attrs:{type:"text",maxlength:"18",autocomplete:"off"},domProps:{value:e.policy_holderData.idcard},on:{keyup:function(t){return e.inputTextChanged()},input:function(t){t.target.composing||e.$set(e.policy_holderData,"idcard",t.target.value)}}}),e._v(" "),a("div",{staticClass:"holderLineClass"})])]),e._v(" "),a("li",[a("div",{staticClass:"holderULlidiv"},[a("em",{staticClass:"inputTitleClass textFontClass"},[e._v("手机号码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.policy_holderData.phone,expression:"policy_holderData.phone"}],staticClass:"inputTextClass textFontClass",style:{width:e.inputWidth},attrs:{type:"tel",maxlength:"11",autocomplete:"off"},domProps:{value:e.policy_holderData.phone},on:{keyup:function(t){return e.inputTextChanged()},input:function(t){t.target.composing||e.$set(e.policy_holderData,"phone",t.target.value)}}}),e._v(" "),a("div",{staticClass:"holderLineClass"})])]),e._v(" "),a("li",[a("div",{staticClass:"holderULlidiv"},[a("em",{staticClass:"inputTitleClass textFontClass"},[e._v("中控SN码")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.policy_holderData.prechar2,expression:"policy_holderData.prechar2"}],staticClass:"inputTextClass textFontClass",style:{width:e.inputWidth},attrs:{type:"text",maxlength:"40",autocomplete:"off"},domProps:{value:e.policy_holderData.prechar2},on:{keyup:function(t){return e.inputTextChanged()},input:function(t){t.target.composing||e.$set(e.policy_holderData,"prechar2",t.target.value)}}}),e._v(" "),a("div",{staticClass:"holderLineClass"})])]),e._v(" "),a("li",[a("div",{staticClass:"holderULlidiv"},[a("em",{staticClass:"inputTitleClass textFontClass"},[e._v("电机号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.policy_holderData.makeFactory,expression:"policy_holderData.makeFactory"}],staticClass:"inputTextClass textFontClass",style:{width:e.inputWidth},attrs:{type:"text",maxlength:"50",autocomplete:"off"},domProps:{value:e.policy_holderData.makeFactory},on:{keyup:function(t){return e.inputTextChanged()},input:function(t){t.target.composing||e.$set(e.policy_holderData,"makeFactory",t.target.value)}}}),e._v(" "),a("div",{staticClass:"holderLineClass"})])]),e._v(" "),a("li",[a("div",{staticClass:"holderULlidiv"},[a("em",{staticClass:"inputTitleClass textFontClass"},[e._v("车架号")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.policy_holderData.fuelName,expression:"policy_holderData.fuelName"}],staticClass:"inputTextClass textFontClass",style:{width:e.inputWidth},attrs:{type:"text",maxlength:"20",autocomplete:"off"},domProps:{value:e.policy_holderData.fuelName},on:{keyup:function(t){return e.inputTextChanged()},input:function(t){t.target.composing||e.$set(e.policy_holderData,"fuelName",t.target.value)}}}),e._v(" "),a("div",{staticClass:"holderLineClass"})])]),e._v(" "),a("li",[a("div",{staticClass:"holderULlidiv"},[a("em",{staticClass:"inputTitleClass textFontClass"},[e._v("地址")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.policy_holderData.address,expression:"policy_holderData.address"}],staticClass:"inputTextClass textFontClass",style:{width:e.inputWidth},attrs:{type:"text",maxlength:"50",autocomplete:"off"},domProps:{value:e.policy_holderData.address},on:{keyup:function(t){return e.inputTextChanged()},input:function(t){t.target.composing||e.$set(e.policy_holderData,"address",t.target.value)}}}),e._v(" "),a("div",{staticClass:"holderLineClass"})])]),e._v(" "),a("li",[a("div",{staticClass:"holderULlidiv"},[a("em",{staticClass:"inputTitleClass textFontClass"},[e._v("邮箱")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.policy_holderData.email,expression:"policy_holderData.email"}],staticClass:"inputTextClass textFontClass",style:{width:e.inputWidth},attrs:{type:"email",maxlength:"30",autocomplete:"off",placeholder:""},domProps:{value:e.policy_holderData.email},on:{keyup:function(t){return e.inputTextChanged()},input:function(t){t.target.composing||e.$set(e.policy_holderData,"email",t.target.value)}}}),e._v(" "),a("div",{staticClass:"holderLineClass"})])])])]):e._e(),e._v(" "),a("div",{class:[e.btnClass],on:{click:function(t){return e.savePolicyHolderData()}}},[e._v("保存")])])},staticRenderFns:[]};var l={name:"App",components:{policyholder:a("VU/8")(i,n,!1,function(e){a("O23N")},null,null).exports}},s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("policyholder")],1)},staticRenderFns:[]};var r=a("VU/8")(l,s,!1,function(e){a("6U7Q")},null,null).exports,d={};function c(e){if(!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0)}}function p(e){var t=navigator.userAgent;(t.indexOf("Android")>-1||t.indexOf("Adr")>-1)&&(window.WebViewJavascriptBridge?e(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){e(WebViewJavascriptBridge)},!1))}c(function(e){if(!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)){var t=new Array("getEhdUserInfo");for(var a in t){var o=t[a];d[o]=function(t){return function(a,o){"function"==typeof a?e.callHandler(t,null,a):null==o?e.callHandler(t,a):e.callHandler(t,a,o)}}(o)}}}),p(function(e){var t=navigator.userAgent;(t.indexOf("Android")>-1||t.indexOf("Adr")>-1)&&(e.init(function(e,t){t&&t(e)}),e.registerHandler("getEhdUserInfo",function(e,t){t&&t(responseData)}))});var u={callhandler:function(e,t,a){c(function(o){o.callHandler(e,t,a)})},registerhandler:function(e,t){c(function(a){a.registerHandler(e,function(e,a){t(e,a)})})},callAndriodHandler:function(e,t,a){p(function(o){o.callHandler(e,t,a)})}},h=(a("j1ja"),a("hKoQ")),m=a.n(h),v=a("mtWM"),f=a.n(v),y=a("Rf8U"),C=a.n(y),_={getInsurancePolicyInfo:"https://ehd.ehuandian.net/insurance/user/details/get",addInsurancePolicyInfo:"https://ehd.ehuandian.net/insurance/user/details/add"};a("hKoQ").polyfill(),m.a.polyfill(),o.a.config.productionTip=!1,o.a.prototype.$bridge=u,o.a.prototype.$yApi=_,o.a.use(C.a,f.a),new o.a({el:"#app",components:{App:r},template:"<App/>"})},O23N:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.2be04b1c58317f7e1811.js.map